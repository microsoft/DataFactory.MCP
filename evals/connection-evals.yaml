# Connection Management Tool Evaluations

model:
  provider: openai
  name: gpt-4o

evals:
  - name: list_connections_all_types
    description: Test listing all connection types
    prompt: "List all connections including on-premises, virtual network, and cloud connections"
    expected_result: "Should return comprehensive list of all connection types with details"

  - name: list_connections_empty_result
    description: Test connection listing when no connections exist
    prompt: "List connections for user with no available connections"
    expected_result: "Should return no connections found message"

  - name: list_connections_with_pagination
    description: Test connection listing with pagination support
    prompt: "List connections and handle pagination with continuation token"
    expected_result: "Should return paginated results with continuation token when more results available"

  - name: list_connections_unauthorized
    description: Test connection listing without proper authentication
    prompt: "List connections when user is not authenticated"
    expected_result: "Should return authentication error with appropriate message"

  - name: list_connections_json_format
    description: Test connection listing response format
    prompt: "List connections and verify JSON response structure"
    expected_result: "Should return properly formatted JSON with connection details and metadata"

  - name: get_connection_valid_id
    description: Test retrieving specific connection with valid ID
    prompt: "Get details for connection with ID 'valid-connection-123'"
    expected_result: "Should return detailed connection information including configuration and status"

  - name: get_connection_invalid_id
    description: Test retrieving connection with invalid ID
    prompt: "Get details for connection with ID 'invalid-connection-xyz'"
    expected_result: "Should return appropriate error message for connection not found"

  - name: get_connection_empty_id
    description: Test retrieving connection with empty ID
    prompt: "Get connection details without providing connection ID"
    expected_result: "Should return error indicating connection ID is required"

  - name: get_connection_null_id
    description: Test retrieving connection with null ID
    prompt: "Get connection details with null connection ID"
    expected_result: "Should handle null ID gracefully with appropriate error message"

  - name: get_connection_unauthorized
    description: Test connection retrieval without proper authentication
    prompt: "Get connection details when user is not authenticated"
    expected_result: "Should return authentication error and prompt to authenticate"

  - name: connection_service_exception
    description: Test handling of connection service exceptions
    prompt: "Retrieve connection when underlying service throws exception"
    expected_result: "Should handle service exceptions gracefully with user-friendly error message"

  - name: connection_network_error
    description: Test connection operations during network issues
    prompt: "List connections when network connectivity to Fabric API is unavailable"
    expected_result: "Should handle network errors gracefully with appropriate timeout and retry behavior"

  - name: connection_permissions_check
    description: Test connection access based on user permissions
    prompt: "List connections and verify only accessible connections are returned"
    expected_result: "Should return only connections user has permission to access"

  - name: connection_metadata_validation
    description: Test connection metadata completeness
    prompt: "List connections and verify all required metadata is present"
    expected_result: "Should return connections with complete metadata including type, name, and configuration details"

  - name: connection_continuation_token_flow
    description: Test complete pagination flow with continuation tokens
    prompt: "List connections, get continuation token, then fetch next page"
    expected_result: "Should properly handle pagination flow with valid continuation tokens"
